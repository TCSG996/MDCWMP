# 移动应用开发社团小程序 - 部署指南

## 项目概述

这是一个基于微信云开发的社团管理小程序，包含以下核心功能：
- 社团首页（简介、统计、快捷入口）
- 活动列表（搜索、筛选、分页）
- 活动详情（信息展示、报名功能、分享功能）
- 成员管理（待开发）
- 个人中心（待开发）
- 管理后台（待开发）

## 部署步骤

### 1. 环境准备

确保您已经：
- 安装了微信开发者工具
- 开通了微信云开发服务
- 创建了云开发环境

### 2. 云函数部署

1. 在微信开发者工具中，右键点击 `cloudfunctions/quickstartFunctions` 目录
2. 选择【上传并部署：云端安装依赖】
3. 等待部署完成

### 3. 数据库初始化

首次运行小程序时，系统会自动：
- 创建必要的数据库集合（activities、members、registrations、notifications）
- 初始化测试数据（4个示例活动）

### 4. 小程序配置

1. 确保 `miniprogram/app.js` 中的云环境ID正确
2. 检查 `miniprogram/app.json` 中的页面路由配置
3. 上传小程序代码

### 5. 测试功能

#### 首页测试
- 检查社团信息显示
- 验证统计数据加载
- 测试快捷入口跳转

#### 活动列表测试
- 验证活动卡片显示
- 测试搜索功能
- 测试筛选功能
- 测试分页加载

#### 活动详情测试
- 检查活动信息展示
- 测试报名功能
- 测试取消报名
- 验证联系方式功能
- **测试分享功能**（新增）

## 功能说明

### 已实现功能

1. **首页**
   - 社团简介展示
   - 数据统计概览
   - 轮播图展示
   - 快捷功能入口
   - 最新活动列表

2. **活动列表**
   - 活动卡片式展示
   - 搜索功能
   - 状态筛选（全部、进行中、已结束、未开始）
   - 分页加载
   - 下拉刷新

3. **活动详情**
   - 活动信息完整展示
   - 图片轮播
   - 报名状态显示
   - 报名/取消报名功能
   - 联系方式（电话、微信）
   - **分享功能**（新增）

### 分享功能详解

#### 分享方式
1. **分享给好友**：点击右上角分享按钮
2. **分享到朋友圈**：点击右上角分享按钮，选择"分享到朋友圈"
3. **页面内分享**：点击"分享活动"按钮，选择分享方式

#### 分享内容
- 标题：活动标题
- 描述：活动描述
- 图片：活动图片或默认图片
- 链接：活动详情页面链接

#### 分享效果
- 在微信聊天中显示活动卡片
- 在朋友圈显示活动信息
- 点击可直接跳转到活动详情页

### 待开发功能

1. **成员管理页面**
2. **个人中心页面**
3. **管理后台页面**

## 数据结构

### activities 集合
```javascript
{
  _id: "活动ID",
  title: "活动标题",
  description: "活动描述",
  startTime: "开始时间",
  endTime: "结束时间",
  location: "活动地点",
  maxParticipants: 50,
  registrationDeadline: "报名截止时间",
  fee: "活动费用",
  status: "未开始/进行中/已结束",
  images: ["图片URL数组"],
  contactPhone: "联系电话",
  contactWechat: "微信号",
  createTime: "创建时间",
  updateTime: "更新时间",
  creatorId: "创建者ID"
}
```

### registrations 集合
```javascript
{
  _id: "报名ID",
  activityId: "活动ID",
  openId: "用户OpenID",
  registerTime: "报名时间",
  status: "已报名/已取消",
  cancelTime: "取消时间"
}
```

## 常见问题

### Q: 云函数调用失败
A: 检查云函数是否已正确部署，环境ID是否正确配置

### Q: 活动列表为空
A: 检查是否已初始化测试数据，可以在首页触发数据初始化

### Q: 图片显示异常
A: 检查图片路径是否正确，或使用默认图片

### Q: 报名功能异常
A: 检查用户是否已登录，OpenID是否正常获取

### Q: 分享功能不可用
A: 检查小程序分享权限是否开启，确保分享配置正确

## 开发建议

1. **分阶段开发**：先完成核心功能，再逐步完善
2. **数据备份**：定期备份重要数据
3. **用户体验**：注重加载状态和错误提示
4. **性能优化**：合理使用分页和缓存
5. **安全考虑**：注意数据权限和用户隐私
6. **分享优化**：优化分享内容和用户体验

## 联系方式

如有问题，请联系开发团队或查看项目文档。 